
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ูุท ุงูููุจ - ูุนุจุฉ ุณูุฏุงููุฉ ุนุตุฑูุฉ</title>
    
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>

    <link rel="manifest" href="manifest.json">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app-container">
        <header>
            <h1>ูุนุจุฉ ูุท ุงูููุจ ุงูุณูุฏุงููุฉ</h1>
            <p id="game-status">ุงุฎุชุฑ ุทุฑููุฉ ุงููุนุจ ูู ุงููุงุฆูุฉ.</p>
        </header>

        <main>
            <div id="main-menu" class="menu-screen active">
                <h2>ุงุฎุชุฑ ุทุฑููุฉ ุงููุนุจ</h2>
                <button class="action-button mode-button" onclick="showAISettings()">ูุนุจ ุถุฏ ุงูููุจููุชุฑ ๐ค</button>
                <button class="action-button mode-button" onclick="showMultiplayerSettings()">ูุนุจ ุนุจุฑ ุงูุฅูุชุฑูุช ๐</button>
                <button class="action-button mode-button" onclick="startGame('LOCAL')">ูุงุนุจ ุถุฏ ูุงุนุจ (ูุญูู) ๐ฅ</button>
                <button id="customize-button" class="action-button mode-button" onclick="showCustomizationPanel()">ุชุฎุตูุต ุงููุธูุฑ ๐จ</button>
                <button id="rules-button" class="action-button mode-button rules-button-style">ููุงุนุฏ ุงููุนุจ</button>
            </div>

            <div id="ai-settings" class="menu-screen hidden">
                <h2>ุงุฎุชุฑ ูุณุชูู ุงูุตุนูุจุฉ</h2>
                <div class="difficulty-options">
                    <button class="action-button" onclick="startGame('AI', 'EASY')">๐ข ุณูู (ุนุดูุงุฆู)</button>
                    <button class="action-button" onclick="startGame('AI', 'MEDIUM')">๐ก ูุชูุณุท (ุชูุถูู ุงูุฃูู)</button>
                    <button class="action-button" onclick="startGame('AI', 'HARD')">๐ด ุตุนุจ (ุชุญููู ูุนูู)</button>
                </div>
                <button class="action-button back-button" onclick="showMainMenu()">ุฑุฌูุน</button>
            </div>

            <div id="multiplayer-settings" class="menu-screen hidden">
                <h2>ุงููุนุจ ุนุจุฑ ุงูุฅูุชุฑูุช (PeerJS)</h2>
                <div id="peer-status">ุฌุงุฑู ุงูุงุชุตุงู ุจุงูุดุจูุฉ...</div>
                
                <div class="connection-group">
                    <p>ูุนุฑููู ุงูุฎุงุต (ID): <span id="my-id-display"></span></p>
                </div>

                <div class="connection-group">
                    <p>ูุนุฑูู ุงูุฎุตู:</p>
                    <input type="text" id="opponent-id-input" placeholder="ุฃุฏุฎู ID ุงูุฎุตู">
                    <button class="action-button" onclick="connectToPeer(document.getElementById('opponent-id-input').value)">ุงุชุตุงู</button>
                </div>
                
                <p id="connection-message" class="message-area"></p>
                
                <button class="action-button back-button" onclick="showMainMenu()">ุฑุฌูุน</button>
            </div>

            <div id="game-container" class="hidden">
                <div id="board" class="board-grid">
                </div>
                <div class="game-controls">
                    <button id="reset-button" class="action-button">ุฅููุงุก ุงููุนุจุฉ ูุงูุนูุฏุฉ</button>
                    <button id="end-chain-jump" class="action-button hidden" onclick="finishTurn(true)">ุฅููุงุก ุงูุฏูุฑ (ูุท ูุชุชุงูู)</button>
                </div>
            </div>
            
            <div id="customization-panel" class="menu-screen hidden">
                <h2>ุชุฎุตูุต ุงููุธูุฑ</h2>

                <div class="custom-option">
                    <label>ููู ุงููุทุนุฉ (ุงููุงุนุจ 1 - ุฃุณูุฏ)</label>
                    <input type="color" id="p1-color-picker" value="#212121" onchange="applyCustomization()">
                </div>

                <div class="custom-option">
                    <label>ููู ุงููุทุนุฉ (ุงููุงุนุจ 2 - ุฃุญูุฑ)</label>
                    <input type="color" id="p2-color-picker" value="#B71C1C" onchange="applyCustomization()">
                </div>
                
                <div class="custom-option">
                    <label>ุฎูููุฉ ุงูููุญุฉ</label>
                    <select id="board-theme-select" onchange="applyCustomization()">
                        <option value="wood">ุฎุดุจ ุฃููู (ุงูุชุฑุงุถู)</option>
                        <option value="marble">ุฑุฎุงู ูุงุชุญ</option>
                        <option value="dark">ูุถุน ุฏุงูู</option>
                    </select>
                </div>

                <button class="action-button back-button" onclick="showMainMenu()">ุญูุธ ูุงูุนูุฏุฉ</button>
            </div>
            

        </main>
    </div>
    
    <div id="custom-alert-overlay" class="hidden">
        <div id="custom-alert-box">
            <div id="alert-message"></div>
            <button id="alert-ok-button" class="action-button">ุญุณูุงู</button>
        </div>
    </div>
    
    <script src="game.js"></script>
    <script src="ai.js"></script>
    <script src="multiplayer.js"></script>
</body>
</html>
